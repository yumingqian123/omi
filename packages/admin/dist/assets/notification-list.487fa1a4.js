import{j as require$$0,k as commonjsGlobal,W as WeElement,h,t as tw,s as sheet,b as tag}from"./vendor.559db013.js";import"./index.esm.14f4c38c.js";import"./index.esm.5924d9cd.js";import"./delete-outline.b9012c14.js";var doneOutlineOutlined={exports:{}};(function(module,exports){var factory;factory=function(__WEBPACK_EXTERNAL_MODULE_omi__){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./esm/done-outline-outlined.js")}({"./esm/done-outline-outlined.js":function(module,exports,__webpack_require__){eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar omi_1 = __webpack_require__(/*! omi */ "omi");\nvar createSvgIcon_1 = __webpack_require__(/*! ./utils/createSvgIcon */ "./esm/utils/createSvgIcon.js");\nexports.default = createSvgIcon_1.default(omi_1.h("path", {\n    d: "M19.77 4.93l1.4 1.4L8.43 19.07l-5.6-5.6 1.4-1.4 4.2 4.2L19.77 4.93m0-2.83L8.43 13.44l-4.2-4.2L0 13.47l8.43 8.43L24 6.33 19.77 2.1z"\n}), \'DoneOutlineOutlined\');\n\n\n//# sourceURL=webpack://%5Bname%5D/./esm/done-outline-outlined.js?')},"./esm/utils/createSvgIcon.js":function(module,exports,__webpack_require__){eval('\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar omi_1 = __webpack_require__(/*! omi */ "omi");\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = function (str) {\n    return str.replace(hyphenateRE, \'-$1\').toLowerCase();\n};\nfunction createSvgIcon(path, displayName) {\n    omi_1.define(hyphenate(\'OIcon\' + displayName), function (_) {\n        return omi_1.h(\'svg\', __assign({ viewBox: "0 0 24 24", title: displayName }, _.props), path);\n    }, {\n        css: ":host {\\n  fill: currentColor;\\n  width: 1em;\\n  height: 1em;\\n  display: inline-block;\\n  vertical-align: -0.125em;\\n  transition: fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\\n  flex-shrink: 0;\\n  user-select: none;\\n}"\n    });\n}\nexports.default = createSvgIcon;\n\n\n//# sourceURL=webpack://%5Bname%5D/./esm/utils/createSvgIcon.js?')},omi:function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_omi__;\n\n//# sourceURL=webpack://%5Bname%5D/external_%7B%22commonjs%22:%22omi%22,%22commonjs2%22:%22omi%22,%22amd%22:%22omi%22,%22root%22:%22Omi%22%7D?")}}).default},module.exports=factory(require$$0)})(doneOutlineOutlined);var chatOutlined={exports:{}};(function(module,exports){var factory;factory=function(__WEBPACK_EXTERNAL_MODULE_omi__){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./esm/chat-outlined.js")}({"./esm/chat-outlined.js":function(module,exports,__webpack_require__){eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar omi_1 = __webpack_require__(/*! omi */ "omi");\nvar createSvgIcon_1 = __webpack_require__(/*! ./utils/createSvgIcon */ "./esm/utils/createSvgIcon.js");\nexports.default = createSvgIcon_1.default(omi_1.h("path", {\n    d: "M4 4h16v12H5.17L4 17.17V4m0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4zm2 10h8v2H6v-2zm0-3h12v2H6V9zm0-3h12v2H6V6z"\n}), \'ChatOutlined\');\n\n\n//# sourceURL=webpack://%5Bname%5D/./esm/chat-outlined.js?')},"./esm/utils/createSvgIcon.js":function(module,exports,__webpack_require__){eval('\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar omi_1 = __webpack_require__(/*! omi */ "omi");\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = function (str) {\n    return str.replace(hyphenateRE, \'-$1\').toLowerCase();\n};\nfunction createSvgIcon(path, displayName) {\n    omi_1.define(hyphenate(\'OIcon\' + displayName), function (_) {\n        return omi_1.h(\'svg\', __assign({ viewBox: "0 0 24 24", title: displayName }, _.props), path);\n    }, {\n        css: ":host {\\n  fill: currentColor;\\n  width: 1em;\\n  height: 1em;\\n  display: inline-block;\\n  vertical-align: -0.125em;\\n  transition: fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\\n  flex-shrink: 0;\\n  user-select: none;\\n}"\n    });\n}\nexports.default = createSvgIcon;\n\n\n//# sourceURL=webpack://%5Bname%5D/./esm/utils/createSvgIcon.js?')},omi:function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_omi__;\n\n//# sourceURL=webpack://%5Bname%5D/external_%7B%22commonjs%22:%22omi%22,%22commonjs2%22:%22omi%22,%22amd%22:%22omi%22,%22root%22:%22Omi%22%7D?")}}).default},module.exports=factory(require$$0)})(chatOutlined);var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(e,t,n,i)=>{for(var r,o=i>1?void 0:i?__getOwnPropDesc(t,n):t,s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i?r(t,n,o):r(o))||o);return i&&o&&__defProp(t,n,o),o};const tagName="notification-list";let notification_list_default=class extends WeElement{constructor(){super(...arguments),this.columns=[{title:"通知内容",render:e=>h("strong",{style:this.changeColor(e.id)},e.content)},{title:"通知类型",key:"category"},{title:"通知时间",key:"time"},{title:"",align:"right",render:e=>h("div",null,0===this.store.notifications.find((t=>t.id===e.id)).status?h("o-tooltip",{content:"设为已读",style:"padding-right:30px"},h("o-icon-done-outline-outlined",{"data-item-id":e.id,_onclick:this.onRead,style:"cursor:pointer;font-size:15px;"})):h("o-tooltip",{content:"设为未读",style:"padding-right:30px"},h("o-icon-chat-outlined",{"data-item-id":e.id,_onclick:this.onUnRead,style:"cursor:pointer;font-size:15px;"})),h("o-tooltip",{content:"删除通知"},h("o-icon-delete-outline",{"data-item-id":e.id,_onclick:this.onClick,style:"cursor:pointer;font-size:20px"})))}],this.paging=!0,this.pageSize=10,this.pageIndex=0,this.filterData=[],this.currentSource=[],this.changeColor=e=>1===this.store.notifications.find((t=>t.id===e)).status?"color: #606266":"color: #0052D9",this.onChange=e=>{const t=e.detail.index;this.currentSource=1===t?this.store.notifications.filter((e=>0===e.status)):2===t?this.store.notifications.filter((e=>1===e.status)):this.store.notifications,this.activeIndex=e.detail.index,this.renderTable()},this.change=e=>{this.pageIndex=e.detail,this.renderTable()},this.activeIndex=0,this.onRead=e=>{const t=Number(e.currentTarget.dataset.itemId);this.store.notifications.find((e=>e.id===t)).status=1,this.changeColor(t),this.renderTable()},this.onUnRead=e=>{const t=Number(e.currentTarget.dataset.itemId);this.store.notifications.find((e=>e.id===t)).status=0,this.changeColor(t),this.renderTable()},this.onClick=e=>{this.table.deleteRowById(e.currentTarget.dataset.itemId)}}renderTable(){this.filterData=this.currentSource.slice(this.pageIndex*this.pageSize,this.pageIndex*this.pageSize+this.pageSize),this.update()}installed(){this.currentSource=this.store.notifications,this.renderTable()}deleteItemById(e){const t=this.currentSource.indexOf(this.currentSource.find((t=>t.id===e)));-1!==t&&this.currentSource.splice(t,1),this.update()}render(){return h("div",{class:tw`pl-0.5`},h("div",{class:tw`px-2`},h("o-tabs",{list:[{label:"全部通知"},{label:"未读通知"},{label:"已读通知"}],onChange:this.onChange,activeIndex:this.activeIndex}),h("o-table",{ref:e=>this.table=e,checkbox:!1,stripe:!1,border:!1,compact:!1,columns:this.columns,dataSource:this.filterData}),h("div",{class:tw`mt-3 text-right`},h("o-pagination",{total:this.currentSource.length,"current-page":this.pageIndex,"page-size":this.pageSize,onchange:this.change}))))}};notification_list_default.css=sheet.target,notification_list_default=__decorateClass([tag(tagName)],notification_list_default);export{notification_list_default as default};
